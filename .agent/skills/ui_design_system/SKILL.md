---
name: ui_design_system
description: "App UI/UX Design System & Guidelines"
---

# UI/UX æ ¸å¿ƒè¦ç¯„

é€™ä»½è¦ç¯„å°‡ã€Œæ—¥ç³»ç¦ªé¢¨æ¥µç°¡ã€å¾æŠ½è±¡çš„æ„Ÿè¦ºè½‰åŒ–ç‚ºå…·é«”çš„é–‹ç™¼æŒ‡æ¨™ã€‚æ ¸å¿ƒç²¾ç¥æ˜¯**ã€Œå‘¼å¸æ„Ÿã€ã€ã€Œç©©å®šæ„Ÿã€èˆ‡ã€Œç„¡å¹²æ“¾ã€**ã€‚

## 1. è¦–è¦ºé¢¨æ ¼èˆ‡è³ªæ„Ÿ (Visual Style & Texture)

*   **å»æŠ•å½±åŒ–**ï¼šç¦æ­¢ä½¿ç”¨ `BoxShadow` æˆ– `Elevation`ã€‚å±¤ç´šæ„Ÿæ‡‰é€éè‰²å½©æ˜åº¦èˆ‡é‚Šæ¡†ä¾†è¡¨ç¾ã€‚
*   **æ¥µç´°é‚Šæ¡†**ï¼šä½¿ç”¨ `0.5dp` çš„ç´°ç·šæ¢ï¼ˆHairline Borderï¼‰ä½œç‚ºå®¹å™¨é‚Šç•Œï¼Œå¢åŠ ç²¾ç·»æ„Ÿã€‚
*   **åœ“è§’è¦ç¯„**ï¼šä½¿ç”¨ `8dp` (Small) æˆ– `12dp` (Medium) çš„é©åº¦åœ“è§’ï¼Œé¿å… M3 é è¨­çš„éåº¦åœ“æ½¤æ„Ÿã€‚

## 2. å®Œæ•´èªæ„åŒ–è‰²å½©ç³»çµ± (Semantic Colors) - å«æ·±è‰²æ¨¡å¼

ç‚ºäº†ç¢ºä¿é–‹ç™¼æ™‚ä¸æ··æ·†ï¼Œæˆ‘å€‘é€é **`ThemeExtension`** å®šç¾©å…©å¥—å°æ‡‰çš„è‰²ç¥¨ã€‚æ·±è‰²æ¨¡å¼ä¸å†åªæ˜¯ç´”é»‘ï¼Œè€Œæ˜¯æ·±ç‚­è‰²ï¼Œä»¥ä¿æŒæº«æ½¤æ„Ÿã€‚

| èªæ„è®Šæ•¸ (Semantic Token) | äº®è‰²æ¨¡å¼ (Light Mode) | æ·±è‰²æ¨¡å¼ (Dark Mode) | ç”¨é€”å»ºè­° |
| --- | --- | --- | --- |
| `color.bg.primary` | **#F5F5F0** (å’Œç´™è‰²) | **#121212** (æ·±ç‚­) | å…¨åŸŸèƒŒæ™¯ |
| `color.bg.surface` | **#FFFFFF** | **#1E1E1E** | å¡ç‰‡ã€å®¹å™¨ |
| `color.text.primary` | **#2B2B2B** (å¢¨è‰²) | **#E1E1E1** (éŠ€ç™½) | æ¨™é¡Œã€ä¸»è¦å…§æ–‡ |
| `color.text.secondary` | **#757575** | **#A0A0A0** | èªªæ˜ã€æ¬¡è¦è³‡è¨Š |
| `color.success` | **#92B5A9** (é’ç£) | **#4D6B61** (æš—é’) | æ­£ç¢ºã€å®Œæˆç‹€æ…‹ |
| `color.error` | **#D36151** (æœ±ç´…) | **#964236** (æ·±æœ±) | éŒ¯èª¤ã€è­¦ç¤ºç‹€æ…‹ |
| `color.border.subtle` | **#E0E0E0** | **#333333** | æ¥µç´°é‚Šæ¡†èˆ‡åˆ†å‰²ç·š |

## 3. é–“è·èˆ‡å°ºå¯¸ç³»çµ± (Spacing System)

éµå¾ª **8pt ç¶²æ ¼ç³»çµ±**ï¼Œç¢ºä¿ä½ˆå±€å…·å‚™éš±å½¢çš„æ•¸å­¸ç§©åºã€‚

*   **é é¢é‚Šè· (Screen Edge)**ï¼šå›ºå®šç‚º **16dp**ã€‚é€™å¤šå‡ºçš„ç©ºé–“æ˜¯ã€Œå‘¼å¸æ„Ÿã€çš„ä¾†æºã€‚
*   **å…ƒä»¶å‚ç›´é–“è·**ï¼šæ®µè½é–“ä½¿ç”¨ **24dp** æˆ– **32dp**ï¼Œè®“è³‡è¨Šä¸æ“æ“ ã€‚
*   **æœ€å°è§¸æ§å°ºå¯¸**ï¼šæ‰€æœ‰å¯é»æ“Šå…ƒä»¶å¿…é ˆè‡³å°‘ç‚º **48x48dp**ï¼Œç¢ºä¿æ“ä½œå¾å®¹ã€‚

## 4. å…ƒä»¶è¦ç¯„ (Component Specifications)

ç‚ºäº†ç¶­æŒã€Œéå·¥ç¨‹å¸«æ„Ÿã€ï¼Œå…ƒä»¶è¨­è¨ˆæ‡‰åƒã€Œç´™å¼µä¸Šçš„å°åˆ·ã€ä¸€æ¨£ç°¡ç´„ã€‚

### **æŒ‰éˆ• (Buttons)**
*   **ä¸»è¦æŒ‰éˆ• (Primary)**ï¼š
    *   æ¨£å¼ï¼š**å¤–æ¡† (Outline)** æ­é… **0.8dp** æ¥µç´°é‚Šæ¡†ï¼Œæˆ–**æ·¡è‰²å¡«å…… (Soft Fill)**ã€‚
    *   å…§è·ï¼šå‚ç›´ 12dpï¼Œæ°´å¹³ 24dpã€‚
    *   ç‰¹å¾µï¼šä¸ä½¿ç”¨é™°å½±ï¼Œåƒ…é€éæ–‡å­—ç²—ç´°èˆ‡å°æ¯”è‰²ä¾†å¼·èª¿ã€‚
*   **æ¬¡è¦æŒ‰éˆ• (Secondary)**ï¼š
    *   æ¨£å¼ï¼š**ç´”æ–‡å­— (Plain Text)** æ­é…ä¸‹åº•ç·šæˆ–ç¨å¤§çš„é–“è·ã€‚
    *   ç‰¹å¾µï¼šå®Œå…¨èå…¥èƒŒæ™¯ï¼Œé»æ“Šæ™‚åƒ…æœ‰è¼•å¾®é€æ˜åº¦è®ŠåŒ–èˆ‡è§¸è¦ºå›é¥‹ã€‚

### **è¼¸å…¥æ¡† (Text Fields)**
*   **æ¨£å¼**ï¼š**ä¸‹åº•ç·šå¼ (Underline)**ã€‚
*   **ç´°ç¯€**ï¼šé è¨­åƒ…é¡¯ç¤ºä¸€æ¢æ¥µç´°çš„ `color.border.subtle` åº•ç·šã€‚ç•¶ç„¦é»é€²å…¥ (Focus) æ™‚ï¼Œåº•ç·šç¨å¾®åŠ ç²—æˆ–è½‰ç‚º `color.text.primary`ã€‚
*   **å‘¼å¸æ„Ÿ**ï¼šè¼¸å…¥æ¡†ä¸Šæ–¹å¿…é ˆé ç•™è‡³å°‘ 8dp çš„æ¨™ç±¤ç©ºé–“ï¼Œç¢ºä¿æ’ç‰ˆä¸æ“æ“ ã€‚

## 5. å­—é«”å¯¦ä½œèˆ‡ã€Œç„¡åœ–ç¤ºã€åŸå‰‡ (Typography & Icon-less)

### **å­—é«”å¯¦ä½œæŒ‡å¼•**
*   **å¥—ä»¶**ï¼šå¼·åˆ¶ä½¿ç”¨ **`google_fonts`** å¥—ä»¶ï¼Œä»¥å‹•æ…‹è¼‰å…¥æ¸›å°‘åˆå§‹åŒ…é«”å¤§å°ã€‚
*   **è¨­å®š**ï¼š
    *   ç¹é«”ä¸­æ–‡ï¼šä½¿ç”¨ `GoogleFonts.notoSansTc()`ã€‚
    *   æ—¥æ–‡ï¼šä½¿ç”¨ `GoogleFonts.notoSansJp()`ã€‚
*   **å›é€€æ©Ÿåˆ¶**ï¼šå¿…é ˆè¨­å®š `fontFamilyFallback`ï¼Œç¢ºä¿æ—¥æ–‡æ¼¢å­—èˆ‡ç¹é«”ä¸­æ–‡åœ¨åŒä¸€è¡Œæ™‚ä¸æœƒå‡ºç¾å­—é‡ä¸ä¸€çš„æƒ…æ³ã€‚

### **ç„¡åœ–ç¤ºåŸå‰‡ (Icon-less Challenge)**
*   **æ ¸å¿ƒè¦å‰‡**ï¼šç›¡é‡ä¸ä½¿ç”¨ Iconã€‚
*   **æ›¿ä»£æ–¹æ¡ˆ**ï¼š
    *   **å°èˆª**ï¼šä½¿ç”¨ã€Œç´”æ–‡å­—æ¨™ç±¤ã€ã€‚ä¾‹å¦‚ï¼šä¸å†ä½¿ç”¨ ğŸ  åœ–ç¤ºï¼Œè€Œæ˜¯ç›´æ¥å¯«ã€Œæ—¥æ—¥ã€æˆ–ã€Œå­¸ç¿’ã€ã€‚
    *   **ç‹€æ…‹**ï¼šä½¿ç”¨ã€Œè‰²å½©ã€æˆ–ã€Œç¬¦è™Ÿæ–‡å­—ã€ã€‚ä¾‹å¦‚ï¼šæ­£ç¢ºæ™‚ä½¿ç”¨ `color.success` æ¨™è¨˜æ–‡å­—ï¼Œè€Œéæ‰“å‹¾ã€‚
    *   **è¿”å›**ï¼šä½¿ç”¨ã€Œâ†ã€ç¬¦è™Ÿæ–‡å­—æˆ–ã€Œè¿”å›ã€äºŒå­—ã€‚
*   **ä¾‹å¤–**ï¼šåƒ…åœ¨ç„¡æ³•é€éæ–‡å­—ç²¾ç¢ºå‚³é”ï¼Œä¸”æœƒåš´é‡å½±éŸ¿ UX æ™‚ï¼Œæ‰å…è¨±ä½¿ç”¨æ¥µå°‘é‡çš„è‡ªå®šç¾©ç·šæ¢è·¯å¾‘ï¼ˆç›´æ¥ç”¨ `CustomPainter` ç¹ªè£½ï¼‰ã€‚

## 6. å¾®äº’å‹•èˆ‡ç‹€æ…‹å›é¥‹ (Micro-interactions)

è®“ App çš„ã€Œæ‰‹æ„Ÿã€åƒçœŸå¯¦ç‰©é«”ä¸€æ¨£æº«æ½¤ã€‚

*   **è§¸è¦ºå›é¥‹ (Haptics)**ï¼š
    *   é»æ“ŠæŒ‰éˆ•ã€åˆ‡æ›é¸é …æˆ–å®Œæˆæ¸¬é©—æ™‚ï¼Œèª¿ç”¨ `HapticFeedback.selectionClick()`ã€‚
*   **éæ¸¡å‹•æ•ˆ**ï¼š
    *   å…¨å±€é é¢åˆ‡æ›å¼·åˆ¶ä½¿ç”¨ **æ·¡å…¥æ·¡å‡º (Fade Transition)**ã€‚ç¦æ­¢ä½¿ç”¨ç”Ÿç¡¬çš„æ»‘å‹•ï¼Œä»¥ç¶­æŒè¦–è¦ºå¹³éœã€‚
*   **ç‹€æ…‹è‰²å½©è¦å‰‡**ï¼š
    *   æ­£ç¢ºæ™‚ä½¿ç”¨ã€Œé’ç£è‰²ã€å¤–æ¡†ï¼ŒéŒ¯èª¤æ™‚ä½¿ç”¨ã€Œæœ±ç´…è‰²ã€éœ‡å‹•æç¤ºã€‚

## 7. åŠ è¼‰èˆ‡ç©ºç™½ç‹€æ…‹ (Loading & Empty States)

é¿å…å‡ºç¾ã€Œé–‹ç™¼ä¸­ã€çš„å·¥ç¨‹å¸«æ„Ÿã€‚

*   **éª¨æ¶å± (Zen Skeleton)**ï¼š
    *   è³‡æ–™åŠ è¼‰æ™‚é¡¯ç¤ºå¸¶æœ‰å¾®å¼±ã€Œå‘¼å¸æ•ˆæœã€çš„æ¼¸è®Šå€å¡Šï¼Œè€Œéæ—‹è½‰é€²åº¦åœˆã€‚
*   **ç©ºç™½ç‹€æ…‹**ï¼š
    *   ä½¿ç”¨**ç¹é«”ä¸­æ–‡**é¼“å‹µèªå¥ï¼Œå¦‚éœ€åœ–åƒå‰‡åƒ…ä½¿ç”¨ç°¡å–®çš„å¹¾ä½•ç·šæ¢æˆ–æ–‡å­—æ’ç‰ˆï¼Œé¿å…ä½¿ç”¨ä»»ä½•é€šç”¨åœ–ç¤ºåº« (Includes Lucide)ã€‚ä¾‹å¦‚ï¼šã€Œæº–å‚™å¥½é–‹å§‹æ—¥æ—¥çš„ç·´ç¿’äº†å—ï¼Ÿã€

## 8. éŸ¿æ‡‰å¼èˆ‡å¹³æ¿é©é… (Responsive & Tablet)

åœ¨å¹³æ¿ç­‰å¤§è¢å¹•è¨­å‚™ä¸Šï¼Œé‡é»åœ¨æ–¼ã€Œé¿å…è¦–ç·šéåº¦ç™¼æ•£ã€ï¼Œç¶­æŒå°ˆæ³¨çš„é–±è®€é«”é©—ã€‚

*   **æœ€å¤§å…§å®¹å¯¬åº¦ (Max Content Width)**ï¼š
    *   ä¸»è¦é–±è®€èˆ‡æ“ä½œå€å¡Šï¼ˆå¦‚å–®å­—å¡ã€æ¸¬é©—å€ï¼‰æ‡‰é™åˆ¶æœ€å¤§å¯¬åº¦ç‚º **600dp**ã€‚
    *   ä½¿ç”¨ `Center` æ­é… `ConstrainedBox` è®“å…§å®¹å±…ä¸­ï¼Œå…©å´ç•™ç™½ä½œç‚ºã€Œå‘¼å¸ç©ºé–“ã€ã€‚
*   **åˆ†æ¬„ä½ˆå±€ (Multi-column)**ï¼š
    *   åœ¨å¯¬åº¦è¶³å¤ æ™‚ (> 900dp)ï¼Œå¯æ¡ç”¨ **Master-Detail (å·¦åˆ—è¡¨ã€å³è©³ç´°)** ä½ˆå±€ï¼Œä½†å³å´è©³ç´°é ä»éœ€éµå¾ªæœ€å¤§å¯¬åº¦é™åˆ¶ã€‚
*   **é‚Šè·åŠ å€**ï¼š
    *   å¹³æ¿çš„å…¨å±€é‚Šè· (Screen Edge) æ‡‰å¾ `24dp` æå‡è‡³ **48dp** æˆ–æ›´å¯¬ï¼Œç¢ºä¿æ¡æŒæ™‚æ‹‡æŒ‡ä¸æœƒé®æ“‹å…§å®¹ã€‚

## 9. é‚Šç•Œèˆ‡å®‰å…¨å€åŸŸ (Boundaries & Safe Area)

ç¢ºä¿å…§å®¹åœ¨ä»»ä½•è£ç½®ä¸Šéƒ½ä¸æœƒè¢«é®æ“‹ï¼ŒåŒæ™‚ç¶­æŒè¦–è¦ºå»¶ä¼¸æ„Ÿã€‚

*   **æ²‰æµ¸å¼èƒŒæ™¯ (Immersive Background)**ï¼š
    *   `Scaffold` çš„èƒŒæ™¯è‰² (`color.bg.primary`) å¿…é ˆå»¶ä¼¸è‡³ Status Bar èˆ‡ Bottom Navigation Bar å€åŸŸã€‚**ç¦æ­¢**å‡ºç¾é»‘é‚Šã€‚
    *   å¯¦ä½œä¸Šï¼Œ`SystemChrome` éœ€è¨­å®šç‚ºé€æ˜ (`transparent`)ã€‚
*   **å®‰å…¨å€åŸŸ (Safe Area)**ï¼š
    *   **é ‚éƒ¨ (Top)**ï¼šé™¤äº†å…¨è¢å¹•èƒŒæ™¯åœ–å¤–ï¼Œæ‰€æœ‰å…§å®¹å¿…é ˆåŒ…è£¹åœ¨ `SafeArea` (top: true) å…§ï¼Œé¿å…èˆ‡ç€æµ· (Notch) é‡ç–Šã€‚
    *   **åº•éƒ¨ (Bottom)**ï¼š
        *   æ²å‹•åˆ—è¡¨ (ScrollView) åº•éƒ¨å¿…é ˆé ç•™ `padding.bottom` + `24dp`ï¼Œé¿å…å…§å®¹è¢« Home Indicator é®æ“‹æˆ–è§¸æ§è¡çªã€‚
        *   å›ºå®šåº•éƒ¨æŒ‰éˆ• (Sticky Button) å¿…é ˆåŒ…è£¹åœ¨ `SafeArea` (bottom: true) å…§ï¼Œä¸¦é¡å¤–å¢åŠ  `16dp` å‚ç›´é–“è·ã€‚
    *   **å·¦å³ (Horizontal)**ï¼š
        *   **é è¨­é–‹å•Ÿ**ï¼šæ‰€æœ‰ `SafeArea`, `SliverSafeArea` å¿…é ˆè¨­å®š `left: true` èˆ‡ `right: true`ï¼ˆé è¨­å€¼ï¼‰ï¼Œä»¥é¿é–‹æ©«å‘æ¨¡å¼çš„ Notch æˆ– Dynamic Islandã€‚
        *   **æœ€å°é‚Šè· (Minimum Edge)**ï¼š
            *   å³ä½¿åœ¨ç„¡ Notch è£ç½®ä¸Šï¼Œ**æ‰€æœ‰é é¢å…§å®¹**ï¼ˆèƒŒæ™¯è‰²é™¤å¤–ï¼‰å·¦å³å…©å´å¿…é ˆä¿ç•™è‡³å°‘ **16dp** çš„å®‰å…¨é–“è·ï¼Œé¿å…å…§å®¹è²¼é½Šè¢å¹•é‚Šç·£ã€‚
            *   å¯¦ä½œå»ºè­°ï¼šä½¿ç”¨ `SliverPadding(padding: EdgeInsets.symmetric(horizontal: max(safeArea, 16)))` æˆ–ç¢ºä¿ `Container` margin è‡³å°‘ç‚º 16dpã€‚
        *   **å¯¬è¢å¹•é©é…**ï¼šåœ¨ Tablet/Web ä¸Šï¼Œæ‡‰çµåˆã€Œæœ€å¤§å…§å®¹å¯¬åº¦ (600dp)ã€èˆ‡ `Center` ä½ˆå±€ï¼Œè€Œéå–®ç´”ä¾è³´ Safe Areaã€‚
*   **é‚Šç•Œé¿è®“ (Edge Constraints)**ï¼š
    *   åœ¨å¤§æ›²é¢è¢å¹•æ‰‹æ©Ÿä¸Šï¼Œé—œéµæ“ä½œå…ƒä»¶ï¼ˆå¦‚æŒ‰éˆ•ï¼‰æ‡‰è·é›¢å¯¦é«”é‚Šç·£è‡³å°‘ `16dp`ï¼Œé¿å…èª¤è§¸ã€‚

## 10. æ‰‹å‹¢èˆ‡äº’å‹•è¡çªè™•ç† (Gesture Handling & Conflicts)

ç¢ºä¿è¤‡é›œäº’å‹•ï¼ˆå¦‚ç¹ªåœ–ï¼‰èˆ‡æ²å‹•è¡Œç‚ºå…±å­˜æ™‚çš„æµæš¢é«”é©—ã€‚

*   **è¡çªå ´æ™¯**ï¼šç•¶ç¹ªåœ–æ¿ (`Canvas`) æˆ–å…¶ä»–éœ€è¦é€£çºŒæ‰‹å‹¢çš„å…ƒä»¶åµŒå…¥æ–¼å¯æ²å‹•å®¹å™¨ (`ListView`, `SingleChildScrollView`) æ™‚ï¼Œå‚ç›´æ‹–æ›³é€šå¸¸æœƒè¢«å®¹å™¨æ¶å¥ªã€‚
*   **è§£æ±ºæ–¹æ¡ˆ**ï¼š
    *   **å„ªå…ˆæ¬Šå®£å‘Š**ï¼šä½¿ç”¨ `RawGestureDetector` æ­é…è‡ªå®šç¾©çš„ `GestureRecognizer`ã€‚
    *   **ç«‹å³æ¶ä½” (Eager Claim)**ï¼šå¯¦ä½œ `ImmediatePanGestureRecognizer` (ç¹¼æ‰¿è‡ª `PanGestureRecognizer`)ï¼Œä¸¦åœ¨ `addAllowedPointer` æ™‚ç«‹å³å‘¼å« `resolve(GestureDisposition.accepted)`ï¼Œç¢ºä¿æ‰‹å‹¢ä¸è¢«çˆ¶å±¤æ””æˆªã€‚
    *   **ç¨‹å¼ç¢¼ç¯„ä¾‹**ï¼š
        ```dart
        class _ImmediatePanGestureRecognizer extends PanGestureRecognizer {
          @override
          void addAllowedPointer(PointerDownEvent event) {
            super.addAllowedPointer(event);
            resolve(GestureDisposition.accepted);
          }
        }
        ```
*   **æ¸¬è©¦é©—è­‰**ï¼šå¿…é ˆæ’°å¯« Widget Test æ¨¡æ“¬å·¢ç‹€çµæ§‹ï¼Œé©—è­‰æ‹–æ›³æ˜¯å¦æ­£ç¢ºè§¸ç™¼ç›®æ¨™è¡Œç‚ºè€Œéæ²å‹•ã€‚
